const path = require('path')
const Reporter = require('./lib/reporter.js')
const Request = require('./lib/render/request')

module.exports = function (options, defaults) {
  options = options || {}

  options.parentModuleDirectory = options.parentModuleDirectory || path.dirname(module.parent.filename)

  return new Reporter(options, defaults)
}

module.exports.Reporter = Reporter
module.exports.Request = Request
